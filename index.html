<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>小白的博客 - 白</title><meta name="author" content="白"><meta name="copyright" content="白"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="小白的博客">
<meta property="og:url" content="https://ran.ranruo.xyz/index.html">
<meta property="og:site_name" content="小白的博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/head_protrait.jpg">
<meta property="article:author" content="白">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/head_protrait.jpg"><link rel="shortcut icon" href="https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/favicon1.png"><link rel="canonical" href="https://ran.ranruo.xyz/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小白的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-07-29 15:03:06'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/my_css.css"><meta name="baidu-site-verification" content="codeva-fpDe68QFkn" /><meta name="msvalidate.01" content="0055280C3BFCE7DE0E722CDE364A6393" /><link rel="stylesheet" href="/css/font.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/head_protrait.jpg" onerror="onerror=null;src='https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/background1.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="小白的博客"><span class="site-name">小白的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小白的博客</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/2865967650.html" title="视觉定位阅读笔记（1）">视觉定位阅读笔记（1）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-07-29T15:02:48.000Z" title="发表于 2025-07-29 15:02:48">2025-07-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9C%A8%E6%96%87%E7%8C%AE%E9%87%8C%E8%BF%B7%E8%B7%AF%E7%9A%84%E6%97%A5%E5%AD%90/">在文献里迷路的日子</a></span></div><div class="content">CogVLM
参考博客


恐怖的性能……都快把Benchmark刷爆了。
作者在文章里说之前将图像融入进语言模型的时候都做的是“浅对齐”，比如LLaVA是通过将图像经过编码器编码成特征向量后，再通过一个线性层就得到了词向量空间中的向量了。
作者说这会有问题，因为视觉特征并不一定能完美转换为文本特征。就比如某个图像很难用语言描述，那这个图像的特征向量经过线性层转换为词向量之后，和之前大模型预训练的时候学习的词向量的分布完全不一样。此时大模型就好像遇到了全新的句子，它的效果自然会差。如果强行训练，可能对图片的理解力好了，但是原有的文本理解能力就下降了。
所以作者就想在不破坏语言能力的情况下增强图像理解的能力。作者的做法比较简单，既然直接转为词向量不太好，而且大模型学了新的还容易忘了旧的。那就保持原有的结构不变，让图像特征和文本特征分开来处理。从论文的架构图中可以清晰看到：

首先是把图像通过视觉编码器（ViT,Visual Transformer）编码成特征向量，然后和文本编码成的特征向量拼接起来。然后在进入Transformer的Muti-head Attention之前会有一个投影的 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/918408497.html" title="Transformer炼丹小记--大即是好">Transformer炼丹小记--大即是好</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-06-28T14:05:55.000Z" title="发表于 2025-06-28 14:05:55">2025-06-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E6%B5%B7%E6%B3%9B%E8%88%9F/">学海泛舟</a></span></div><div class="content">前言记一次人工神经网络课程大作业。

代码仓库在此：https://github.com/Very-White/2025_final_project 。
模型权重在此：https://www.modelscope.cn/models/SuperBaiBaiBai/zh-en-transformer 。

训练小记在此之前，我以为凭借自己的炼丹经验，训练一个Transformer是轻而易举的事情。没想到为训练一个好的模型耗费了那么多精力，不过也学习到了很多训练技巧。
刚开始，我简单用预先提供的脚本进行训练，里面没有warmup，数据集很小（一个是10k，一个是100k），没有梯度检查点，甚至是将数据集全部加载进内存的。结果马上就过拟合了：

val_loss在下降一点后急速攀升，导致我一度以为是我超参数设置错了。于是我调整超参数再训练了几次，但效果不佳，仍旧过拟合。根据之前对Transformer的了解（从李沐老师视频中学习的），我知道Transformer的预设更少，所以需要用大的数据集才能训练好。于是我换用了当时我觉得比较大的100k数据集（10倍诶！可是10k数据集的10倍）。结果 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/1014047471.html" title="并行算法笔记">并行算法笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-06-17T10:04:18.000Z" title="发表于 2025-06-17 10:04:18">2025-06-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%88%91%E9%87%8D%E7%94%9F%E4%BA%86%EF%BC%8C%E9%87%8D%E7%94%9F%E5%9C%A8%E8%80%83%E8%AF%95%E5%89%8D%E4%B8%80%E5%A4%A9/">我重生了，重生在考试前一天</a></span></div><div class="content">基础概念并发计算、并行计算与分布式计算



特性
并发计算
并行计算
分布式计算




任务执行方式
交替执行
同时执行
分布执行


资源管理
共享资源
独立资源
分散资源


主要目标
提高响应性
提高性能
提高可扩展性和容错性


典型应用
操作系统、Web服务器
科学计算、图像处理
云计算、分布式数据库




冯·诺依曼架构主存：存储指令和数据的集合，每个位置有地址和内容。
CPU：

控制单元：决定程序中哪条指令被执行。
算术逻辑单元（ALU）：执行实际指令。

关键术语：

寄存器：CPU中非常快的存储部分。
程序计数器：存储下一条指令的地址。
总线：连接CPU和内存的硬件。

瓶颈问题：内存访问速度远低于CPU处理速度，导致CPU等待数据。
进程与线程进程：正在执行的计算机程序的实例。

组件：可执行程序、内存块、资源描述符、安全信息、进程状态。

多任务：通过时间片轮转，让单个处理器系统看起来同时运行多个程序。
线程：进程内的独立执行单元。

优势：当一个线程阻塞时，其他线程可以继续运行。
操作：
创建线程：称为forking。
终止线程：称为joining。

 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/294358179.html" title="编译原理">编译原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-06-14T10:03:19.000Z" title="发表于 2025-06-14 10:03:19">2025-06-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%88%91%E9%87%8D%E7%94%9F%E4%BA%86%EF%BC%8C%E9%87%8D%E7%94%9F%E5%9C%A8%E8%80%83%E8%AF%95%E5%89%8D%E4%B8%80%E5%A4%A9/">我重生了，重生在考试前一天</a></span></div><div class="content">概述编译的几个阶段C/C++编译的几个阶段是：

预处理：汇合源程序，展开宏定义，生成.i文件
编译：处理后的源文件到汇编代码文件
汇编：汇编代码文件到目标文件/机器指令文件
连接：连接库代码从而生成可执行（executable）文件

编译过程编译过程分为：

前端（分析）：对源程序，识别语法结构信息，理解语义信息，反馈出错信息
词法分析
语法分析
语义分析


后端（综合）：综合分析结果，生成语义上等价于源程序的目标程序

中间代码生成

代码优化

目标代码生成




词法分析针对token

语法分析针对语句

语义分析针对整个程序

中间代码生成也就是生成一个等价的、易于优化的中间表示

代码优化删掉不必要的代码

目标代码生成生成汇编

语言和文法基础语言和文法的直观概念程序设计语言包括：语法和语义

语法：是一组规则，用它可以形成和产生一个合适的程序
语义：定义程序的意义

文法：是语言语法的描述工具，实现用有穷的规则把语言的无穷句子集描述出来。比如&lt;句子&gt;=&lt;主语&gt;&lt;谓语＞，可以用右端的符号串代替=的左端
符号和符号串字母表：字母表是元素 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/123456789.html" title="s1:Simple test-time scaling为什么有效？">s1:Simple test-time scaling为什么有效？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-05-12T07:00:02.000Z" title="发表于 2025-05-12 07:00:02">2025-05-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9C%A8%E6%96%87%E7%8C%AE%E9%87%8C%E8%BF%B7%E8%B7%AF%E7%9A%84%E6%97%A5%E5%AD%90/">在文献里迷路的日子</a></span></div><div class="content">前言这是我最近读到的两篇很有意思的论文：《s1: Simple test-time scaling》和《Does Reinforcement Learning Really Incentivize Reasoning Capacity in LLMs Beyond the Base Model?》，里面的结论刷新了我之前的看法，恰好之前做了一次论文分享，就将分享的内容整理为文字，主要是结合后一篇论文谈谈我对前一篇论文的想法。
研究背景在OpenAI-o1出来之前，提升大模型的能力主要是在训练的时候加大计算量以及投入。o1的出现提示人们可以通过加大测试的时候的计算量得到更好的效果（test-time scaling）。
作者想要找到一个最简单的方法来实现测试时扩展和强大的推理性能。
研究过程o1对比普通模型最大的区别就是有一个思考过程，并且o1在回答问题的时候输出的时间更长，输出的token更多。
一般思考模型进行思考的时候&lt;think&gt;和&lt;/think&gt;来包围思考过程，用&lt;answer&gt;&lt;/answer&gt;来包围答案，一是一般思考的过程集中 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/654684277.html" title="目标检测论文阅读笔记（1）">目标检测论文阅读笔记（1）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-04-28T09:00:55.000Z" title="发表于 2025-04-28 09:00:55">2025-04-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9C%A8%E6%96%87%E7%8C%AE%E9%87%8C%E8%BF%B7%E8%B7%AF%E7%9A%84%E6%97%A5%E5%AD%90/">在文献里迷路的日子</a></span></div><div class="content">R-CNN
参考视频：【入门级目标检测发展概述及概念简介】


视觉定位+深度学习的经典论文。做法也是经典的2-Stage方法，先生成一系列的候选框，然后将候选框进行裁剪。之后将每个裁剪后图片通过CNN去预测类别，从而得到不同类别的检测框。
但主要问题是：

直接裁剪图像，再送到CNN开销比较大。论文中2k张图片，假设裁剪后的图片是1KB，那2k张都是将近2MB了。batch size更大的时候这样裁剪更低效。所以之后的Fast R-CNN等优化方法都在特征上进行裁剪。在图片上裁剪的少之又少了。
RP总会有重叠的，之后难以避免要用到NMS（非极大值抑制）来去掉冗余框，也就避免不了NMS的缺点：耗时长和对人物重合效果不好。
CNN的输出类别是固定的，所以类别是有限的，对新的类别又要重新训练。

RetinaNet
参考视频：【入门级目标检测发展概述及概念简介】


像论文中所说：当时在生成候选框（RP）阶段，很多2-Stage方法可以通过一些算法，迅速将候选物体位置的数量缩小到少数（例如，1-2k），过滤掉大多数背景样本。但是1-Stage方法就没法过滤，因为一阶段方法不生成RP，它必须 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/1892840876.html" title="目标检测入门">目标检测入门</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-04-26T16:00:02.000Z" title="发表于 2025-04-26 16:00:02">2025-04-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9C%A8%E6%96%87%E7%8C%AE%E9%87%8C%E8%BF%B7%E8%B7%AF%E7%9A%84%E6%97%A5%E5%AD%90/">在文献里迷路的日子</a></span></div><div class="content">基础概念目标
检测任务一般分为两步：

检测出预测框（回归）
将预测框中的物体分类（分类）


同时用到了回归和分类。比如在这张图中就需要框出人和猫两个检测框，然后再对检测框做分类

所以标签（ground_truth）需要检测框坐标（bbox）和类别标签。类别标签有一个集合，比如有80个类别，模型就只会在图像中检测出这80个类别。
一些概念Region proposals(RP)
中文叫做备选框。输入一张图像，可以得到很多候选框，每一个候选框可以看成一个被检测出来的目标，之后这些候选框就被拿去分类。就可以知道这个候选框对应的类别。就完成了目标检测的任务
IoUIoU的计算公式为两个框的交集除以并集

NMS（non-maximum suppression）
中文叫非极大值抑制。因为一个人可能有多个框都预测到这一个人，所以要用一种方法合并这些框，或者说叫过滤冗余框。
但NMS也有缺点，比如两个人重叠在一起了，就有可能被NMS过滤成同一个人。
分类1-Stage和2-Stage1-Stage的模型分为Anchor-based和Anchor-free的。Anchor-based相当于用预定 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/4288241426.html" title="从策略梯度到GRPO">从策略梯度到GRPO</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-04-24T10:04:37.000Z" title="发表于 2025-04-24 10:04:37">2025-04-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9C%A8%E6%96%87%E7%8C%AE%E9%87%8C%E8%BF%B7%E8%B7%AF%E7%9A%84%E6%97%A5%E5%AD%90/">在文献里迷路的日子</a></span></div><div class="content">策略梯度
参考：B站视频

基础概念经验轨迹$τ$
智能体可以感知到当前的环境状态，然后作出行为，会影响环境的状态并从环境中得到奖励。这里将状态表示为$s$，智能体的行为表示为$a$，智能体得到的奖励为$r$。
那么智能体与环境交互一次的经验轨迹为 $ \tau = s_0, a_0, r_1, s_1, \cdots, a_{T - 1}, r_T, s_T $，其中 $ T $ 为终止时刻。就是状态、智能体采取的动作、智能体得到的奖励、下一状态……的一个数列。
经验轨迹的概率 $ P_\theta(\tau) $经验轨迹出现的概率由环境和智能体两部分决定：

\begin{align*}
P_\theta(\tau) &= p(s_0) \cdot \pi_\theta(a_0 \mid s_0) \cdot p(s_1 \mid s_0, a_0) \cdot \pi_\theta(a_1 \mid s_1) \cdots \pi_\theta(a_{T - 1} \mid s_{T - 1}) \cdot p(s_T \mid s_{T - 1}, a_{T - 1}) \\
 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/1070898293.html" title="解决DeepSpeed offload时找不到动态库的问题">解决DeepSpeed offload时找不到动态库的问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-04-21T10:03:36.000Z" title="发表于 2025-04-21 10:03:36">2025-04-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/">程序猿的那些事</a></span></div><div class="content">问题在DeepSpeed Offload时候需要编译并加载一个动态库，使得Adam优化器可以从GPU卸载到CPU。可以用以下方法测试编译是否成功：
12import deepspeeddeepspeed.ops.op_builder.CPUAdamBuilder().load()
我刚开始的时候遇到了报错，提示找不到其中的一个动态链接库：
1/home/xxx/miniconda3/envs/Visual-RFT/bin/../lib/gcc/x86_64 - conda - linux - gnu/11.2.0/../../../../x86_64 - conda - linux - gnu/bin/ld: cannot find - lcurand: No such file or directory
解决方案如果要编译动态库，需要用到CUDA Toolkit，而且要是官网下载的（Conda/Pytorch安装的CUDA Toolkit是不全的）。
所以需要：

下载安装CUDA Toolkit
设置环境变量让DeepSpeed可以找到（因为我是非ROOT用户安装的，我装在了~/C ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/post/158142455.html" title="用fast-reid提取人物特征">用fast-reid提取人物特征</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-04-08T14:52:00.000Z" title="发表于 2025-04-08 14:52:00">2025-04-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9C%A8%E6%96%87%E7%8C%AE%E9%87%8C%E8%BF%B7%E8%B7%AF%E7%9A%84%E6%97%A5%E5%AD%90/">在文献里迷路的日子</a></span></div><div class="content">前言最近要做人物的识别，有些图片没有正脸，所以要用到ReID相关的技术（有正脸就很好处理，用人脸检测现在有很多现成的库）。在网上找了一圈没找到很适合入门的教程，于是打算在这里写一下我是怎么用fast-reid库来做人物的特征向量的提取的。方便之后的人入坑。

现成的reid的库我就只找到了torchreid和fast-reid。前者我尝试了，但没跑起来，而且代码好久没维护了，fast-reid是京东近年来发布的，品质更有保障，所以就选了后者。

环境配置fast-reid并不像一些Python包可以直接用pip install fastreid安装，它的项目地址中并没有提到能用pip直接安装，所以装起来有点麻烦。
安装依赖首先先创建一个虚拟环境，.venv或者conda都可以。然后安装一些依赖（fast-reid需要用到，在项目的文档里也提到了）：

Pytorch ≥ 1.6
torchvision（装和Pytorch版本兼容的）
yacs
gdown
sklearn
termcolor 
tabulate 
faiss

前面七个每个都用pip install packet_nam ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/head_protrait.jpg" onerror="this.onerror=null;this.src='https://xiao--bai.oss-cn-guangzhou.aliyuncs.com/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">白</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">愿我们在清醒的现实再会</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/2865967650.html" title="视觉定位阅读笔记（1）">视觉定位阅读笔记（1）</a><time datetime="2025-07-29T15:02:48.000Z" title="发表于 2025-07-29 15:02:48">2025-07-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/918408497.html" title="Transformer炼丹小记--大即是好">Transformer炼丹小记--大即是好</a><time datetime="2025-06-28T14:05:55.000Z" title="发表于 2025-06-28 14:05:55">2025-06-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/1014047471.html" title="并行算法笔记">并行算法笔记</a><time datetime="2025-06-17T10:04:18.000Z" title="发表于 2025-06-17 10:04:18">2025-06-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/294358179.html" title="编译原理">编译原理</a><time datetime="2025-06-14T10:03:19.000Z" title="发表于 2025-06-14 10:03:19">2025-06-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/123456789.html" title="s1:Simple test-time scaling为什么有效？">s1:Simple test-time scaling为什么有效？</a><time datetime="2025-05-12T07:00:02.000Z" title="发表于 2025-05-12 07:00:02">2025-05-12</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9C%A8%E6%96%87%E7%8C%AE%E9%87%8C%E8%BF%B7%E8%B7%AF%E7%9A%84%E6%97%A5%E5%AD%90/"><span class="card-category-list-name">在文献里迷路的日子</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AD%A6%E6%B5%B7%E6%B3%9B%E8%88%9F/"><span class="card-category-list-name">学海泛舟</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%88%91%E9%87%8D%E7%94%9F%E4%BA%86%EF%BC%8C%E9%87%8D%E7%94%9F%E5%9C%A8%E8%80%83%E8%AF%95%E5%89%8D%E4%B8%80%E5%A4%A9/"><span class="card-category-list-name">我重生了，重生在考试前一天</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%89%8B%E8%AE%B0/"><span class="card-category-list-name">手记</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E7%8C%BF%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/"><span class="card-category-list-name">程序猿的那些事</span><span class="card-category-list-count">9</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Python/" style="font-size: 1.42em; color: #99a6b7">Python</a> <a href="/tags/C/" style="font-size: 1.18em; color: #999ca1">C++</a> <a href="/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" style="font-size: 1.18em; color: #999ca1">强化学习</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" style="font-size: 1.34em; color: #99a3b0">环境配置</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 1.1em; color: #999">计算机图形学</a> <a href="/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" style="font-size: 1.18em; color: #999ca1">课程笔记</a> <a href="/tags/linux/" style="font-size: 1.26em; color: #999fa8">linux</a> <a href="/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/" style="font-size: 1.18em; color: #999ca1">目标检测</a> <a href="/tags/Deep-Learning/" style="font-size: 1.5em; color: #99a9bf">Deep Learning</a> <a href="/tags/%E8%A7%86%E8%A7%89%E5%AE%9A%E4%BD%8D/" style="font-size: 1.1em; color: #999">视觉定位</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">29</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-07-29T15:03:05.868Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By 白</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["我梦见一片焦土，一株破土而生的新蕊。它迎着朝阳绽放，向我低语呢喃。","你看，在这片梦想之地，一切都被允许，一切都有可能。我们怀着各自的目的来到这里，又以意想不到的方式实现了它。无论那结果是甜美的、梦幻的，还是苦涩的、现实的，它都是我们梦寐以求的答案。","我们在梦里学会生活，然后回到现实...学会生存。","生命因何而沉睡，因为总有一天，我们会从梦中醒来。","所谓开拓，就是沿着前人未尽的道路，走出更遥远的距离","敬不完美的明天"])
  } else {
    document.getElementById("subtitle").textContent = "我梦见一片焦土，一株破土而生的新蕊。它迎着朝阳绽放，向我低语呢喃。"
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>